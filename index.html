	<!DOCTYPE html>
	<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>BlocVote</title>
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
		<link href="public/style.css" rel="stylesheet">
	</head>
	<body style="padding: 10px;">
		<header class=" lh-1 py-3">
			<div class="row flex-nowrap justify-content-between align-items-center">
			<div class="col-4 pt-1">
				
			</div>
			<div class="col-4 text-center">
				<a class="blog-header-logo text-body-emphasis text-decoration-none ti" href="#">BlocVote</a>
			</div>
			<div class="col-4 d-flex justify-content-end align-items-center">

				
			</div>
			</div>
		</header>

		<div class="p-4 p-md-5 mb-4 rounded text-body-emphasis bg-body-secondary nice">
		<div class="col-lg-7 px-0">
		<h1 class="display-4" style="font-weight: bold;">The Future of Voting: Decentralized, Verifiable, and Trustworthy with BlocVote</h1>
		<p class="lead my-4">Say goodbye to opaque voting systems and hello to transparency and accountability, as we redefine the future of democracy with the innovation of blockchain.</p>

		</div>
	</div>
	<div class="album py-5 bg-body-tertiary">
		<div class="container">

		<div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3">
			<div class="col">
			<div class="card shadow-sm">
				<img class="bd-placeholder-img card-img-top" width="100%" height="350" src="public/images/pepe.jpg" role="img" preserveAspectRatio="xMidYMid slice" focusable="false">
				<div class="card-body">
				<h2>Pepe the Politician</h2><br>
				<ul class="card-text">
					<li>Dank economy</li>
					<li>Frog-friendly environment</li>
					<li>Accessible memes</li>
				</ul><br>
				<div class="d-flex justify-content-between align-items-center">
					<div class="btn-group">
					<button type="button" class="btn btn-sm btn-outline-dark s0" style="width:100px;">Vote Now</button>

					</div>
					<small class="text-body-secondary">9 votes</small>
				</div>
				</div>
			</div>
			</div>
			<div class="col">
			<div class="card shadow-sm">
				<img class="bd-placeholder-img card-img-top" width="100%" height="350" src="public/images/doge2.png" role="img" preserveAspectRatio="xMidYMid slice" focusable="false">

				<div class="card-body">
				<h2>Doge McElection</h2><br>
				<ul class="card-text">
					<li>Much wow leadership</li>
					<li>Tail-wagging community focus</li>
					<li>Universal belly rubs</li>
					</ul><br>

				<div class="d-flex justify-content-between align-items-center">
					<div class="btn-group">
					<button type="button" class="btn btn-sm btn-outline-dark s1" style="width:100px;">Vote Now</button>
					</div>
					<small class="text-body-secondary">9 votes</small>
				</div>
				</div>
			</div>
			</div>
			<div class="col" style="width: 400px;" >
			<div class="card shadow-sm">
				<img class="bd-placeholder-img card-img-top" style="background-size: contain;" width="5" height="350px" src="public/images/homer.jpg" role="img" preserveAspectRatio="xMidYMid slice" focusable="false">
				<div class="card-body">
				<h2>Homer Simpson</h2><br>
				<ul class="card-text">
					<li>"Simpsonomics" prosperity</li>
					<li>Doughnuts for all</li>
					<li>Pursuit of the "Simpsonian Dream"</li>
					</ul><br>
				
				<div class="d-flex justify-content-between align-items-center">
					<div class="btn-group">
					<button type="button" class="btn btn-sm btn-outline-dark s2" style="width:100px;">Vote Now</button>

					</div>
					<small class="text-body-secondary">9 votes </smvotesall>
				</div>
				</div>	
			</div>
			</div>




	<script src="https://cdn.jsdelivr.net/npm/web3@1.5.2/dist/web3.min.js"></script>
	<script>
	document.addEventListener('DOMContentLoaded', function() {
	var addressValue = localStorage.getItem('address');
	console.log('Address Value :', addressValue);

	// Import Web3.js library
	// const Web3 = require('web3');

	// Create a new Web3 instance
	const web3 = new Web3('https://mainnet.infura.io/v3/307e1b7166d94191b2a8760c9f02963b');

	// Set the deployed contract address
	const contractAddress = '0xc495466fF50A13ad2F69ceAA03Fe730b5cae605B';

	// Load the contract ABI (Application Binary Interface)
	const contractABI =[
	{
		"inputs": [],
		"name": "registerVoter",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [],
		"stateMutability": "nonpayable",
		"type": "constructor"
	},
	{
		"inputs": [
			{
				"internalType": "uint256",
				"name": "candidateIndex",
				"type": "uint256"
			}
		],
		"name": "vote",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"name": "candidates",
		"outputs": [
			{
				"internalType": "string",
				"name": "name",
				"type": "string"
			},
			{
				"internalType": "uint256",
				"name": "voteCount",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "uint256",
				"name": "index",
				"type": "uint256"
			}
		],
		"name": "getCandidate",
		"outputs": [
			{
				"internalType": "string",
				"name": "",
				"type": "string"
			},
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "getCandidateCount",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "",
				"type": "address"
			}
		],
		"name": "voters",
		"outputs": [
			{
				"internalType": "bool",
				"name": "isRegistered",
				"type": "bool"
			},
			{
				"internalType": "bool",
				"name": "hasVoted",
				"type": "bool"
			},
			{
				"internalType": "uint256",
				"name": "vote",
				"type": "uint256"
			},
			{
				"internalType": "uint256",
				"name": "id",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	}
]

	// Create a contract instance
	const contract = new web3.eth.Contract(contractABI, contractAddress);
	if (contract && contract.options.address) {
	console.log('Contract instance successfully initialized. Address:', contract.options.address);
	} else {
	console.log('Failed to initialize contract instance.');
	}
	async function getCandidates() {
        try {
          const candidateCount = await contract.methods.getCandidateCount().call();
          const candidateNames = [];

          for (let i = 0; i < candidateCount; i++) {
            const candidate = await contract.methods.candidates(i).call();
            const candidateName = candidate.name;
            candidateNames.push(candidateName);
          }

          return candidateNames;
        } catch (error) {
          console.error(error);
        }
      }

	  async function voteForCandidate(candidateIndex) {
    try {
      const confirmation = confirm("Do you want to continue?");

      if (confirmation) {
        const accounts = await ethereum.request({ method: 'eth_requestAccounts' });
        const voterAddress = accounts[0];

        // Perform the vote transaction here
        const gasLimit = 500000; // Adjust the gas limit as needed
        const receipt = await contract.methods.vote(candidateIndex).send({ from: voterAddress, gas: gasLimit });
        console.log(receipt);

        // Update the vote count display
        const voteCountElement = document.getElementById(`vote-count-${candidateIndex}`);
        const currentVoteCount = Number(voteCountElement.textContent) + 1;
        voteCountElement.textContent = currentVoteCount;

        alert(`You have successfully voted for candidate ${candidateIndex}. Current vote count: ${currentVoteCount}`);
      }
    } catch (error) {
      console.error(error);
    }
}})
const buttons = document.querySelectorAll('.vote-button');
      buttons.forEach(function(button) {
        button.addEventListener('click', function(event) {
          const buttonClasses = Array.from(event.target.classList);
          let candidateIndex = -1;

          if (buttonClasses.includes('s0')) {
            candidateIndex = 0;
          } else if (buttonClasses.includes('s1')) {
            candidateIndex = 1;
          } else if (buttonClasses.includes('s2')) {
            candidateIndex = 2;
          }

          if (candidateIndex !== -1) {
            voteForCandidate(candidateIndex);
		  }})})
	</script>












	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz" crossorigin="anonymous"></script>
	</body>
	</html>